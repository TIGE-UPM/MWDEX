<!DOCTYPE html>
<html>
<link rel="stylesheet" type="text/css" href="./pivot/pivot.css">
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
  <h1>Moodle Workshop Data EXtractor (MWDEX)</h1>
  <header>
  <% include ./partials/header %>
</header>
  <head>
    <title>MWDEX</title>
       <!-- external libs from cdnjs -->
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui-touch-punch/0.2.3/jquery.ui.touch-punch.min.js"></script>
        <script src="https://cdn.plot.ly/plotly-basic-latest.min.js"></script>
        <!-- PivotTable.js libs from ../dist -->

        <script type="text/javascript" src="./pivot/pivot.js"></script>
        <script type="text/javascript" src="./pivot/export_renderers.js"></script>
        <script type="text/javascript" src="./pivot/d3_renderers.js"></script>
        <script type="text/javascript" src="./pivot/plotly_renderers.js"></script>		
		<script type="text/javascript" src="./pivot/hightchart_renderers.js"></script>		
		<script type="text/javascript" src="./pivot/novix.pivot.renderer.js"></script>	
		<!--<script src="./pivot/js/highstock.js"></script>
		<script src="./pivot/js/highcharts-more.js"></script>
		<script src="./pivot/js/modules/treemap.js"></script>
		<script src="./pivot/js/pivot.js" type="text/javascript"></script>
		<script src="./pivot/js/handsontable.full.min.js" type="text/javascript"></script>		-->
        <style>
            body {font-family: Verdana;}
        </style>

        <!-- for examples only! script to show code to user -->
        <script type="text/javascript" src="show_code.js"></script>	
  </head>
<body style="margin-left:20px;">
<a href="javascript:history.back()"> Volver Atr&aacute;s</a>
<h4>Tabla y an&aacute;lisis de resultados</h4>
    <script type="text/javascript">
	  var datos = (<%- JSON.stringify(data) %>);
		$(function(){
			var tpl = $.pivotUtilities.aggregatorTemplates;
			var renderers = $.extend(
				$.pivotUtilities.renderers,
				$.pivotUtilities.plotly_renderers,
				$.pivotUtilities.d3_renderers,
				$.pivotUtilities.export_renderers
			);

			$("#output").pivotUI(
				datos, {
					renderers: renderers,
					rows: ["Submitter", "Reviewer"],					
					vals: ["AvgTotalGrade"]
				});
		});
		
		/*,
				aggregators: {
                    "Media evaluador": function() { return tpl.average()(["NotaEvaluador"])}
					}*/
    </script>
<div id="output"></div>
</body>
<footer>
<br/><br/><br/><br/>
    <% include ./partials/footer %>
</footer>
</html>